<script setup>
import AppButton from "@/shared/ui/AppButton.vue";

const consent = ref(true);
</script>

<template>
  <form class="application-form">
    <slot name="input-field"></slot>
    <slot name="extra-fields"></slot>
    <AppButton :disabled="!consent" class="application-form__button">–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</AppButton>
    <label class="application-form__consent">
      <input type="checkbox" v-model="consent"/>
      <span class="application-form__checkbox">
        <svg class="application-form__checkbox-icon" width="18" height="18" aria-hidden="true">
          <use href="@/app/assets/sprite.svg#check-mark-icon"></use>
        </svg>
      </span>
      <span>–Ø&nbsp;—Å–æ–≥–ª–∞—Å–µ–Ω (-–∞) –Ω–∞&nbsp;–æ–±—Ä–∞–±–æ—Ç–∫—É –º–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤&nbsp;—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å&nbsp;
        <a href="#">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>.
      </span>
    </label>
    <div class="p-10 text-3xl text-white bg-blue-500">
      Hello‚ÄØTailwind‚ÄØüöÄ
    </div>
  </form>
</template>

<style scoped lang="scss">
.application-form {
  background-color: $primary-background-color;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 40px;
  padding: 20px;
  &__button {
    width: 100%;
  }
  &__consent {
    position: relative;
    font-size: 0.875rem;
    font-weight: 400;
    line-height: 18px;
    letter-spacing: 0;
    text-align: left;
    padding-left: 36px;

  }
  &__consent input {
    position: absolute;
    opacity: 0;
  }
  &__consent input:checked + .application-form__checkbox svg {
    opacity: 1;
  }
  &__consent input:checked + .application-form__checkbox {
    border-color: $secondary-color;
  }
  &__checkbox {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(0, 44, 62, 0.3);
    &:hover {
      border-color: $secondary-color;
    }
  }
  &__checkbox svg {
    opacity: 0;
  }
}
</style>